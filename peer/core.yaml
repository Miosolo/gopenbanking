# This file defines all the information and settings about peer node
peer:
    id: peer0.anz.italktoyou.cn
    networkId: dev
    listenAddress: 0.0.0.0:7051
    chaincodeListenAddress: 0.0.0.0:7052
    address: peer0.anz.italktoyou.cn:7051
    addressAutoDetect: false
    gomaxprocs: -1
    keepalive:
        minInterval: 60s
        client:
            interval: 60s
            timeout: 20s
        deliveryClient:
            interval: 60s
            timeout: 20s
    gossip:
        bootstrap: peer0.anz.italktoyou.cn
        useLedgerElection: true
        orgLedger: false
        externalEndpoint: peer0.anz.italktoyou.cn:7051
        membershipTrackerInterval: 5s
        endpoint: 
        maxBlockCountToStore: 500
        maxPropagationBurstLatency: 10ms
        maxPropagationBurstSize: 10
        propagateIterations: 1
        propagatePeerNum: 3
        pullInterval: 4s
        pullPeerNum: 3
        requestStateInfoInterval: 4s
        publishStateInfoInterval: 4s
        stateInforetentionInterval:
        publishCertPeriod: 10s
        skipBlockVerfication: false
        dialTimeout: 3s
        connTimeout: 2s
        recvBuffSize: 20
        sendBuffSize: 200
        digestWaitTime: 1s
        requestWaitTime: 1500ms
        responseWaitTime: 2s
        aliveTimeInterval: 5s
        aliveExpirationTimeout: 25s
        reconnectInterval: 25s
        election:
            startupGracePeriod: 15s
            membershipSampleInterval: 1s
            leaderAliveThreshold: 10s
            leaderElectionDuration: 5s
        pvtData:
            pullRetryThreshold: 60s
            transientstoreMaxBlockRetention: 1000
            pushAckTimeout: 3s
            btlPullMargin: 10
            reconcileBatchSize: 10
            reconcileSleepInterval: 1m
            reconciliationEnabled: true
            skipPullingInvalidTransactionsDuringCommit: false
        State:
            enabled: true
            checkInterval: 10s
            responseTimeout: 3s
            batchSize: 10
            blockBufferSize: 100
            maxRetries: 3
    tls:
        enabled: false
        clientAuthRequired: false
        cert:
            file: /opt/hyperledger/gopenbanking/crypto-config/peerOrganizations/anz.italktoyou.cn/peers/peer0.anz.italktoyou.cn/tls/server.crt
        key:
            file: /opt/hyperledger/gopenbanking/crypto-config/peerOrganizations/anz.italktoyou.cn/peers/peer0.anz.italktoyou.cn/tls/server.key
        rootcert:
            file: /opt/hyperledger/gopenbanking/crypto-config/peerOrganizations/anz.italktoyou.cn/peers/peer0.anz.italktoyou.cn/tls/ca.crt
        clientRootCAs:
            file: /opt/hyperledger/gopenbanking/crypto-config/peerOrganizations/anz.italktoyou.cn/peers/peer0.anz.italktoyou.cn/tls/ca.crt
        clientKey:
            file:
        clientCert:
            file:
    authentication:
        timewindow: 10m
    fileSystemPath: /opt/hyperledger/gopenbanking/production
    BCCSP:
        Default: SW
        SW:
            Hash: SHA2
            Security: 256
            FileKeyStore:
                KeyStore:
        PKCS11:
            Library:
            Label:
            Pin:
            Hash:
            Security:
            FileKeyStore:
                KeyStore:
    mspConfigPath: /opt/hyperledger/gopenbanking/crypto-config/peerOrganizations/anz.italktoyou.cn/peers/peer0.anz.italktoyou.cn/msp
    localMspId: ANZBankMSP
    client: 
        connTimeout: 3s
    deliveryclient:
        reconnectTotalTimeThreshold: 3600s
        connTimeout: 3s
        reConnectBackoffThreshold: 3600s
    localMspType: bccsp
    profile: 
        enabled: false
        listenAddress: 0.0.0.0:6060
    adminService:
        listenAddress: 0.0.0.0:7051
    handlers:
        authFilters:
            -
                name: DefaultAuth
            -
                name: ExpirationCheck
        decorators:
            -
                name: DefaultDecorator
        endorsers:
            escc:
                name: DefaultEndorsement
                library:
        validators:
            vscc:
                name: DefaultValidation
                library:
    validatorPoolSize:
    discovery:
        enabled: true
        authCacheEnabled: true
        authCacheMaxSize: 1000
        authCachePurgeRetentionRatio: 0.75
        orgMemberAllowedAccess: false

# vm seciton defines all the environment for compiling and pruducing
vm: 
    endpoint: unix://var/run/docker.sock
    docker:
        tls:
            enabled: false
            ca:
                file: docker/ca.crt
            cert:
                file: docker/tls.crt
            key:
                file: docker/tls.key
        attchStdout: false
        hostConfig:
            NetworkMode: host
            Dns:
            LogConfig:
                Type: json-file
                Config:
                    max-size: "50m"
                    max-file: "5"
            Memory: 2147483548

# chaincode section
chaincode:
    id:
        path:
        name: 
    builder: $(DOCKER_NS)/fabric-ccenv:latest
    pull: false
    golang:
        runtime: $(BASE_DOCKER_NS)/fabric-baseos:$(ARCH)-$(BASE_VERSION)
        dynamicLink: false
    car:
        runtime: $(BASE_DOCKER_NS)/fabric-baseos:$(ARCH)-$(BASE_VERSION)
    java:
        runtime: $(DOCKER_NS)/fabric-javaenv:$(ARCH)-$(PROJECT_VERSION)
    node:
        runtime: $(BASE_DOCKER_NS)/farci-baseimage:$(ARCH)-$(BASE_VERSION)
    startuptimeout: 300s
    executetimeout: 30s
    mode: net
    keepalive: 0
    system:
        cscc: enable
        lscc: enable
        escc: enable
        vscc: enable
        qscc: enable
    systemPlugins:
    logging:
        level: info
        shim: warning
        format: '%{color}%{time:2005-01-02 15:03:05.000 MST} [%{module}] %{shortfun} -> %{level:.4s} %id:03x}%{color:reset} %{message}'

ledger:
    blockchain:
    state:
        stateDatabase: goleveldb
        totalQueryLimit: 100000
        couchDBConfig:
            couchDBAddress: 127.0.0.1:5984
            username:
            password:
            maxRetries: 3
            maxRetriesOnStartup: 12
            requestTimeout: 35s
            internalQueryLimit: 1000
            maxBatchUpdateSize: 1000
            warmIndexAfterNBlocks: 1
            createGlobalChangesDB: false
    history:
        enableHistoryDatabase: true

operations:
    listenAddress: 0.0.0.0:9443
    tls:
        enabled: false
        cert: 
            file: 
        key:
            file:
        clientAuthRequired: false
        clientRootCAs:
            files: []

metrics:
    provider: disabled
    statsd:
        network: udp
        address: peer0.anz.italktoyou.cn
        writeInterval: 10s
        prefix:
